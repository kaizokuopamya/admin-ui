"use strict";(self.webpackChunkadmin_ui=self.webpackChunkadmin_ui||[]).push([[298],{7298:(F,v,l)=>{l.r(v),l.d(v,{PageElementModule:()=>S});var g=l(6814),f=l(5628),h=l(590),p=l(1717),e=l(4769),P=l(1521),_=l(788),x=l(2848),D=l(9831),O=l(3058),m=l(95),E=l(5597),u=l(6304);const C=["type"],y=["selectElement"];function M(n,c){if(1&n&&(e.TgZ(0,"ng-option",24),e._uU(1),e.qZA()),2&n){const i=c.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(i.text)}}function N(n,c){if(1&n&&(e.TgZ(0,"ng-option",24),e._uU(1),e.qZA()),2&n){const i=c.$implicit;e.Q6J("value",i.DROPDOWNNAME),e.xp6(1),e.hij(" ",i.DROPDOWNNAME," ")}}function T(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"div",28)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"div",29),e._UZ(4,"fa-icon",30),e.TgZ(5,"fa-icon",31),e.NdJ("click",function(){const s=e.CHM(i).$implicit,r=e.oxw(2);return e.KtG(r.deleteElement(s))}),e.qZA()()()}if(2&n){const i=c.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(i.DROPDOWNNAME),e.xp6(2),e.Q6J("icon",t.faGripHorizontal),e.xp6(1),e.Q6J("icon",t.faClose)}}function b(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"div",9)(1,"div",10),e._uU(2,"Selected Elements"),e.qZA(),e.TgZ(3,"div",11)(4,"div",25)(5,"div",26),e.NdJ("cdkDropListDropped",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.drop(o))}),e.YNc(6,T,6,3,"div",27),e.qZA()(),e.TgZ(7,"div",12)(8,"button",22),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.createPageElements())}),e._uU(9," Save "),e.qZA()()()()}if(2&n){const i=e.oxw();e.xp6(5),e.Q6J("cdkDropListData",i.selectedElements),e.xp6(1),e.Q6J("ngForOf",i.selectedElements)}}const A=[{path:"",component:(()=>{var n;class c{constructor(t,o,s,r,a){this.httpService=t,this.constant=o,this.dataService=s,this.commonMethod=r,this.storage=a,this.faGripHorizontal=h.BUU,this.faClose=h.YIN,this.response=[],this.elements=[],this.selectedElements=[],this.error="",this.elementTypes=this.constant.typeOptions}ngOnInit(){}getDropDown(){const t=this.type.selectedValues[0];let o={...this.dataService.commonInputData(),[this.constant.key_type]:t};this.httpService.callApiServices(this.constant.serviceName_GETDROPDOWN,o).subscribe({next:r=>{console.log(r);const a=r.responseParameter;"01"==a.opstatus&&(this.error=a.Result),this.elements=r.set.records,console.log(this.elements)}})}addElement(){const t=this.selectElement.selectedValues[0];console.log("elements :: ",JSON.stringify(this.elements)),t&&!this.selectedElements.find(o=>o.DROPDOWNNAME===t)?.DROPDOWNNAME&&(this.selectedElements=[...this.selectedElements,this.elements.find(o=>o.DROPDOWNNAME===t)],console.log(this.selectedElements),this.selectElement.writeValue(null))}deleteElement(t){const o=this.selectedElements.findIndex(s=>s.ID===t.ID);-1!==o&&this.selectedElements.splice(o,1)}drop(t){(0,p.bA)(t.container.data,t.previousIndex,t.currentIndex)}createPageElements(){console.log(JSON.stringify(this.selectedElements));const t=this.storage.getLocalStorage("pageId"),o=this.selectedElements.map((a,d)=>[(d+1).toString(),a.DROPDOWNNAME,a.ID,a.DESCRIPTION].join("#")).join("~");console.log("formatted array:: ",o);let s={...this.dataService.commonInputData(),[this.constant.key_ID]:t,[this.constant.key_value]:o};this.httpService.callApiServices(this.constant.serviceName_CREATEPAGEELEMENTS,s).subscribe({next:a=>{const d=a.responseParameter;"00"===d.opstatus?(this.dataService.information="Page Elements added Successfully",this.commonMethod.openPopup("div.popup-bottom.success-popup")):(this.dataService.information="Unable to Create Page Elements",this.dataService.informationLabel=d.Result,this.commonMethod.openPopup("div.popup-bottom.error-popup"))},error:a=>console.log(a)})}}return(n=c).\u0275fac=function(t){return new(t||n)(e.Y36(P.c),e.Y36(_.$),e.Y36(x.D),e.Y36(D.v),e.Y36(O.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-page-element"]],viewQuery:function(t,o){if(1&t&&(e.Gf(C,5),e.Gf(y,5)),2&t){let s;e.iGM(s=e.CRH())&&(o.type=s.first),e.iGM(s=e.CRH())&&(o.selectElement=s.first)}},decls:36,vars:3,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad"],[1,"container-fluid"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"card","mt-3"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[1,"col-md-6","col-lg-4","col-xl-4","col-12"],[1,"ux-input"],["for","elementType"],[1,"mandatory"],["labelForId","elementType","name","elementType",3,"change"],["type",""],[3,"value",4,"ngFor","ngForOf"],["for","elementName"],["labelForId","elementName","name","elementName"],["selectElement",""],["type","button",1,"ux-button",3,"click"],["class","card mt-3",4,"ngIf"],[3,"value"],["cdkDropListGroup","",1,"element-container","col-md-6","col-lg-4","col-xl-4","col-12"],["cdkDropList","",1,"element-list",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","element",4,"ngFor","ngForOf"],["cdkDrag","",1,"element"],[1,"icon-group"],[1,"fa-grip",3,"icon"],[1,"fa-close",3,"icon","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"form")(10,"div",9)(11,"div",10),e._uU(12,"Create Page Elements"),e.qZA(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e._uU(17,"Element Type:"),e.TgZ(18,"span",15),e._uU(19,"* "),e.qZA()(),e.TgZ(20,"ng-select",16,17),e.NdJ("change",function(){return o.getDropDown()}),e.YNc(22,M,2,2,"ng-option",18),e.qZA()()(),e.TgZ(23,"div",12)(24,"div",13)(25,"label",19),e._uU(26,"Element Name List"),e.qZA(),e.TgZ(27,"ng-select",20,21),e.YNc(29,N,2,2,"ng-option",18),e.qZA()()(),e.TgZ(30,"div",12)(31,"button",22),e.NdJ("click",function(){return o.addElement()}),e._uU(32," Add "),e.qZA()()()()()()(),e.TgZ(33,"div",7)(34,"div",8),e.YNc(35,b,10,2,"div",23),e.qZA()()()()()()()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",o.elementTypes),e.xp6(7),e.Q6J("ngForOf",o.elements),e.xp6(6),e.Q6J("ngIf",o.selectedElements.length>0))},dependencies:[g.sg,g.O5,m._Y,m.JL,m.F,E.BN,p.Wj,p.Fd,p.Zt,u.w9,u.jq],styles:[".element-container[_ngcontent-%COMP%]{max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.element-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block}.element[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.element[_ngcontent-%COMP%]:last-child{border:none}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.element-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-group[_ngcontent-%COMP%]   .fa-grip[_ngcontent-%COMP%]{display:block;transition:display .5s ease}.icon-group[_ngcontent-%COMP%]   .fa-close[_ngcontent-%COMP%]{cursor:pointer;display:none}.fa-close[_ngcontent-%COMP%]:before, .fa-grip[_ngcontent-%COMP%]:before{display:none}.icon-group[_ngcontent-%COMP%]:hover   .fa-grip[_ngcontent-%COMP%]{display:none}.icon-group[_ngcontent-%COMP%]:hover   .fa-close[_ngcontent-%COMP%]{display:block}"]}),c})()}];let Z=(()=>{var n;class c{}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild(A),f.Bz]}),c})(),S=(()=>{var n;class c{}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,Z,m.UX,m.u5,E.uH,p._t,u.A0]}),c})()}}]);