"use strict";(self.webpackChunkadmin_ui=self.webpackChunkadmin_ui||[]).push([[220],{9220:(F,u,l)=>{l.r(u),l.d(u,{CreatePageVersionsModule:()=>U});var p=l(6814),_=l(5628),g=l(454),a=l(95),v=l(590),e=l(4769),f=l(788),C=l(2848),x=l(1521),P=l(3058),h=l(5597);function E(t,s){if(1&t&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.Q6J("value",o.PAGENAME),e.xp6(1),e.hij(" ",o.PAGENAME," ")}}function T(t,s){if(1&t&&(e.TgZ(0,"div",18)(1,"div",19)(2,"label",20),e._uU(3,"Enter Page Name"),e.qZA(),e.TgZ(4,"select",21)(5,"option",22),e._uU(6,"Select Page Name"),e.qZA(),e.YNc(7,E,2,2,"option",23),e.qZA()()()),2&t){const o=e.oxw();e.xp6(7),e.Q6J("ngForOf",o.pages)}}function Z(t,s){if(1&t&&(e.TgZ(0,"div",43)(1,"div",44),e._UZ(2,"input",45),e.TgZ(3,"label",46),e._uU(4),e.ALo(5,"titlecase"),e.qZA()()()),2&t){const o=s.$implicit;e.xp6(2),e.Q6J("value",o.charAt(0).toUpperCase()),e.xp6(1),e.Q6J("for",o),e.xp6(1),e.Oqu(e.lcZ(5,3,o))}}function A(t,s){if(1&t&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&t){const o=s.$implicit;e.Q6J("value",o.DESCRIPTION),e.xp6(1),e.hij(" ",o.DROPDOWNNAME," ")}}function N(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"div",18)(2,"div",19)(3,"label",25),e._uU(4,"New Page Name "),e.TgZ(5,"span",26),e._uU(6,"*"),e.qZA()(),e._UZ(7,"input",27),e.qZA()(),e.TgZ(8,"div",18)(9,"div",19)(10,"label",28),e._uU(11,"Description:"),e.TgZ(12,"span",26),e._uU(13,"*"),e.qZA()(),e._UZ(14,"textarea",29),e.qZA()(),e.TgZ(15,"div",18)(16,"div",19)(17,"label"),e._uU(18,"Encryption Standard:"),e.TgZ(19,"span",26),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"div",30),e.YNc(22,Z,6,5,"div",31),e.qZA()()(),e.TgZ(23,"div",18)(24,"div",19)(25,"label"),e._uU(26,"Element Type:"),e.TgZ(27,"span",26),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"select",32),e.NdJ("blur",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.getDropDown())}),e.TgZ(30,"option",22),e._uU(31,"Select"),e.qZA(),e.TgZ(32,"option",33),e._uU(33,"Textbox"),e.qZA(),e.TgZ(34,"option",34),e._uU(35,"Number"),e.qZA(),e.TgZ(36,"option",35),e._uU(37,"Password"),e.qZA(),e.TgZ(38,"option",36),e._uU(39,"Telephone"),e.qZA(),e.TgZ(40,"option",37),e._uU(41,"Date"),e.qZA(),e.TgZ(42,"option",38),e._uU(43,"Dropdown"),e.qZA(),e.TgZ(44,"option",39),e._uU(45,"Radio"),e.qZA(),e.TgZ(46,"option",40),e._uU(47,"Checkbox"),e.qZA()()()(),e.TgZ(48,"div",14)(49,"div",19)(50,"label",41),e._uU(51,"Element Name List"),e.qZA(),e.TgZ(52,"select",42)(53,"option",22),e._uU(54,"Select"),e.qZA(),e.YNc(55,A,2,2,"option",23),e.qZA()()()()}if(2&t){const o=e.oxw();e.xp6(22),e.Q6J("ngForOf",o.encryption),e.xp6(33),e.Q6J("ngForOf",o.elements)}}function b(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.searchPage())}),e._uU(1," Search "),e.qZA()}}function D(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.addElement())}),e._uU(1," Add "),e.qZA()}}function y(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",53)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"div",54),e._UZ(4,"fa-icon",55),e.TgZ(5,"fa-icon",56),e.NdJ("click",function(){const r=e.CHM(o).$implicit,c=e.oxw(2);return e.KtG(c.deleteElement(r))}),e.qZA()()()}if(2&t){const o=s.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(o.DESCRIPTION),e.xp6(2),e.Q6J("icon",n.faGripHorizontal),e.xp6(1),e.Q6J("icon",n.faClose)}}function I(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",14)(1,"button",47),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.showAddElement=!0)}),e._uU(2," Add Elements "),e.qZA()()}}function O(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",14)(1,"button",47),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(2);return e.KtG(i.createPageElements())}),e._uU(2," Save "),e.qZA()()}}function M(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",48)(1,"div",10),e._uU(2,"Selected Elements"),e.qZA(),e.TgZ(3,"div",11)(4,"div",49)(5,"div",50),e.NdJ("cdkDropListDropped",function(i){e.CHM(o);const r=e.oxw();return e.KtG(r.drop(i))}),e.YNc(6,y,6,3,"div",51),e.qZA()(),e.YNc(7,I,3,0,"div",52),e.YNc(8,O,3,0,"div",52),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(5),e.Q6J("cdkDropListData",o.selectedElements),e.xp6(1),e.Q6J("ngForOf",o.selectedElements),e.xp6(1),e.Q6J("ngIf",!o.showAddElement),e.xp6(1),e.Q6J("ngIf",o.showAddElement)}}const S=[{path:"",component:(()=>{var t;class s{constructor(n,i,r,c,d,m){this.constant=n,this.dataService=i,this.httpService=r,this.storage=c,this.datePipe=d,this.fb=m,this.faGripHorizontal=v.BUU,this.faClose=v.YIN,this.today="",this.error="",this.showAddElement=!1,this.isPageCreated=!1,this.pages=[],this.selectedElements=[],this.elements=[],this.errorMessage="",this.pageId="",this.encryption=["static","dynamic","rsa"]}ngOnInit(){this.initForm(),this.fetchPagesCreated(),this.today=this.datePipe.transform(new Date,"dd-MM-yyyy")}initForm(){this.pageVersionForm=this.fb.group({pageName:["",a.kI.required],newPageName:["",a.kI.required],pageDescription:["",a.kI.required],isEncrypted:["S",a.kI.required],type:[""],selectedElement:[""]}),this.pageVersionForm.get("pageName").valueChanges.subscribe(n=>{null!=n&&this.pageVersionForm.get("newPageName").setValue(n+this.today)})}fetchPagesCreated(){this.httpService.callApiServices(this.constant.serviceName_GETPAGESCREATED,this.dataService.commonInputData()).subscribe(n=>this.pages=n.set.records)}addElement(){const n=this.pageVersionForm.value,i=n.selectedElement;console.log("selected Element::",n.selectedElement),console.log("elements :: ",JSON.stringify(this.elements)),i&&!this.selectedElements.find(r=>r.DESCRIPTION===i)?.DESCRIPTION&&(this.selectedElements=[...this.selectedElements,this.elements.find(r=>r.DESCRIPTION===i)],console.log(this.selectedElements),n.selectedElement=""),this.createPage()}deleteElement(n){const i=this.selectedElements.findIndex(r=>r.ID===n.ID);-1!==i&&this.selectedElements.splice(i,1)}drop(n){(0,g.bA)(n.container.data,n.previousIndex,n.currentIndex)}getDropDown(){const n=this.pageVersionForm.value,i={...this.dataService.commonInputData(),[this.constant.key_type]:n.type};this.httpService.callApiServices(this.constant.serviceName_GETDROPDOWN,i).subscribe(c=>{const d=c.responseParameter;"01"===d.opstatus&&(this.error=d.Result),this.elements=c.set.records})}searchPage(){const n=this.pageVersionForm.value,i={...this.dataService.commonInputData(),[this.constant.key_pageName]:n.pageName};this.httpService.callApiServices(this.constant.serviceName_GETDYNAMICPAGE,i).subscribe(c=>this.selectedElements=c.set.records)}createPage(){const n=this.pageVersionForm.value,i={...this.dataService.commonInputData(),[this.constant.key_pageName]:n.newPageName,[this.constant.key_DESCRIPTION]:n.pageDescription,[this.constant.key_isEncrypted]:n.isEncrypted};this.isPageCreated||(this.httpService.callApiServices(this.constant.serviceName_CREATEPAGE,i).subscribe(c=>{const d=c.responseParameter;console.log(d),this.errorMessage=d.Result,this.pageId=d.ID,console.log("pageID of new page created:: ",this.pageId)}),this.isPageCreated=!0)}createPageElements(){const n=this.selectedElements.map((c,d)=>[(d+1).toString(),c.DROPDOWNNAME||c.LABELNAME,c.ID,c.DESCRIPTION].join("#")).join("~"),i={...this.dataService.commonInputData(),[this.constant.key_ID]:this.pageId,[this.constant.key_value]:n};this.httpService.callApiServices(this.constant.serviceName_CREATEPAGEELEMENTS,i).subscribe(c=>{console.log(c)}),this.pageVersionForm.reset(),this.dataService.goToPage("dashboard")}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(f.$),e.Y36(C.D),e.Y36(x.c),e.Y36(P.n),e.Y36(p.uU),e.Y36(a.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-page-versions"]],decls:23,vars:7,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad"],[1,"container-fluid"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"card","mt-3",3,"formGroup"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],["class","col-12 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","col-lg-4","col-xl-4","col-12"],["class","ux-button","type","button",3,"click",4,"ngIf"],[1,"text-danger"],["class","card mt-3",4,"ngIf"],[1,"col-12","col-md-6","col-lg-6","col-xl-6"],[1,"ux-input"],["for","pagename"],["formControlName","pageName"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","newPageName"],[1,"mandatory"],["type","text","formControlName","newPageName"],["for","description"],["id","description","formControlName","pageDescription","placeholder","Page Description","required",""],[1,"d-flex","flex-row"],["class","mr-3",4,"ngFor","ngForOf"],["formControlName","type","id","elementType",3,"blur"],["value","text"],["value","number"],["value","password"],["value","tel"],["value","date"],["value","dropdown"],["value","radio"],["value","checkbox"],["for","elementName"],["formControlName","selectedElement"],[1,"mr-3"],[1,"ux-selection","form-check"],["type","radio","name","isEncrypted","formControlName","isEncrypted",1,"form-check-input",3,"value"],[1,"form-check-label","p-0",3,"for"],["type","button",1,"ux-button",3,"click"],[1,"card","mt-3"],["cdkDropListGroup","",1,"element-container","col-md-6","col-lg-4","col-xl-4","col-12"],["cdkDropList","",1,"element-list",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","element",4,"ngFor","ngForOf"],["class","col-md-6 col-lg-4 col-xl-4 col-12",4,"ngIf"],["cdkDrag","",1,"element"],[1,"icon-group"],[1,"fa-grip",3,"icon"],[1,"fa-close",3,"icon","click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"form",9)(10,"div",10),e._uU(11,"Create Page"),e.qZA(),e.TgZ(12,"div",11),e.YNc(13,T,8,1,"div",12),e.YNc(14,N,56,2,"div",13),e.TgZ(15,"div",14),e.YNc(16,b,2,0,"button",15),e.YNc(17,D,2,0,"button",15),e.TgZ(18,"p",16),e._uU(19),e.qZA()()()()()(),e.TgZ(20,"div",7)(21,"div",8),e.YNc(22,M,9,4,"div",17),e.qZA()()()()()()()()()),2&n&&(e.xp6(9),e.Q6J("formGroup",i.pageVersionForm),e.xp6(4),e.Q6J("ngIf",!i.showAddElement),e.xp6(1),e.Q6J("ngIf",i.showAddElement),e.xp6(2),e.Q6J("ngIf",!i.showAddElement),e.xp6(1),e.Q6J("ngIf",i.showAddElement),e.xp6(2),e.Oqu(i.errorMessage),e.xp6(3),e.Q6J("ngIf",i.selectedElements.length>0))},dependencies:[p.sg,p.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a._,a.JJ,a.JL,a.Q7,a.sg,a.u,g.Wj,g.Fd,g.Zt,h.BN,p.rS],styles:[".element-container[_ngcontent-%COMP%]{max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.element-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block}.element[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.element[_ngcontent-%COMP%]:last-child{border:none}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.element-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-group[_ngcontent-%COMP%]   .fa-grip[_ngcontent-%COMP%]{display:block;transition:display .5s ease}.icon-group[_ngcontent-%COMP%]   .fa-close[_ngcontent-%COMP%]{cursor:pointer;display:none}.fa-close[_ngcontent-%COMP%]:before, .fa-grip[_ngcontent-%COMP%]:before{display:none}.icon-group[_ngcontent-%COMP%]:hover   .fa-grip[_ngcontent-%COMP%]{display:none}.icon-group[_ngcontent-%COMP%]:hover   .fa-close[_ngcontent-%COMP%]{display:block}"]}),s})()}];let k=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.Bz.forChild(S),_.Bz]}),s})(),U=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,k,a.u5,a.UX,g._t,h.uH]}),s})()}}]);