"use strict";(self.webpackChunkadmin_ui=self.webpackChunkadmin_ui||[]).push([[298],{7298:(R,f,c)=>{c.r(f),c.d(f,{PageElementModule:()=>Z});var m=c(6814),h=c(5628),v=c(590),d=c(1717),e=c(4769),_=c(1521),P=c(788),x=c(2848),O=c(3058),p=c(95),E=c(5597),g=c(6304);const C=["type"],D=["selectElement"];function y(n,s){if(1&n&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&n){const l=s.$implicit;e.Q6J("value",l.value),e.xp6(1),e.Oqu(l.text)}}function T(n,s){if(1&n&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&n){const l=s.$implicit;e.Q6J("value",l.DROPDOWNNAME),e.xp6(1),e.hij(" ",l.DROPDOWNNAME," ")}}function M(n,s){if(1&n){const l=e.EpF();e.TgZ(0,"div",27)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"div",28),e._UZ(4,"fa-icon",29),e.TgZ(5,"fa-icon",30),e.NdJ("click",function(){const i=e.CHM(l).$implicit,a=e.oxw(2);return e.KtG(a.deleteElement(i))}),e.qZA()()()}if(2&n){const l=s.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(l.DROPDOWNNAME),e.xp6(2),e.Q6J("icon",t.faGripHorizontal),e.xp6(1),e.Q6J("icon",t.faClose)}}function N(n,s){if(1&n){const l=e.EpF();e.TgZ(0,"div",9)(1,"div",10),e._uU(2,"Selected Elements"),e.qZA(),e.TgZ(3,"div",11)(4,"div",24)(5,"div",25),e.NdJ("cdkDropListDropped",function(o){e.CHM(l);const i=e.oxw();return e.KtG(i.drop(o))}),e.YNc(6,M,6,3,"div",26),e.qZA()(),e.TgZ(7,"div",12)(8,"button",21),e.NdJ("click",function(){e.CHM(l);const o=e.oxw();return e.KtG(o.createPageElements())}),e._uU(9," Save "),e.qZA()()()()}if(2&n){const l=e.oxw();e.xp6(5),e.Q6J("cdkDropListData",l.selectedElements),e.xp6(1),e.Q6J("ngForOf",l.selectedElements)}}const b=[{path:"",component:(()=>{var n;class s{constructor(t,o,i,a){this.httpService=t,this.constant=o,this.dataService=i,this.storage=a,this.faGripHorizontal=v.BUU,this.faClose=v.YIN,this.response=[],this.elements=[],this.selectedElements=[],this.error="",this.elementTypes=this.constant.typeOptions,this.placeholderVisible=!0}ngOnInit(){}hidePlaceholder(){this.placeholderVisible=!1}getDropDown(){const t=this.type.selectedValues[0];let o={...this.dataService.commonInputData(),[this.constant.key_type]:t};this.httpService.callApiServices(this.constant.serviceName_GETDROPDOWN,o).subscribe({next:a=>{console.log(a);const r=a.responseParameter;"01"==r.opstatus&&(this.error=r.Result),this.elements=a.set.records,console.log(this.elements)}})}addElement(){const t=this.selectElement.selectedValues[0];console.log("elements :: ",JSON.stringify(this.elements)),t&&!this.selectedElements.find(o=>o.DROPDOWNNAME===t)?.DROPDOWNNAME&&(this.selectedElements=[...this.selectedElements,this.elements.find(o=>o.DROPDOWNNAME===t)],console.log(this.selectedElements),this.selectElement.writeValue(null))}deleteElement(t){const o=this.selectedElements.findIndex(i=>i.ID===t.ID);-1!==o&&this.selectedElements.splice(o,1)}drop(t){(0,d.bA)(t.container.data,t.previousIndex,t.currentIndex)}createPageElements(){console.log(JSON.stringify(this.selectedElements));const t=this.storage.getLocalStorage("pageId"),o=this.selectedElements.map((r,u)=>[(u+1).toString(),r.DROPDOWNNAME,r.ID,r.DESCRIPTION].join("#")).join("~");console.log("formatted array:: ",o);let i={...this.dataService.commonInputData(),[this.constant.key_ID]:t,[this.constant.key_value]:o};this.httpService.callApiServices(this.constant.serviceName_CREATEPAGEELEMENTS,i).subscribe({next:r=>{console.log(r)},error:r=>console.log(r)})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(_.c),e.Y36(P.$),e.Y36(x.D),e.Y36(O.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-page-element"]],viewQuery:function(t,o){if(1&t&&(e.Gf(C,5),e.Gf(D,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.type=i.first),e.iGM(i=e.CRH())&&(o.selectElement=i.first)}},decls:36,vars:4,consts:[[1,"main","bg-m"],[1,"right-main-column"],[1,"right-col-container","pad-b","full-width"],[1,"body-page-container","main-dashborad"],[1,"container-fluid"],[1,"row","no-gutters"],[1,"col-12"],[1,"row1"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"card","mt-3"],[1,"card-header"],[1,"card-body"],[1,"col-md-6","col-lg-4","col-xl-4","col-12"],[1,"ux-input"],["for","elementType"],[1,"mandatory"],["labelForId","elementType","name","elementType",3,"change"],["type",""],[3,"value",4,"ngFor","ngForOf"],[3,"placeholder","open"],["selectElement",""],["type","button",1,"ux-button",3,"click"],["class","card mt-3",4,"ngIf"],[3,"value"],["cdkDropListGroup","",1,"element-container","col-md-6","col-lg-4","col-xl-4","col-12"],["cdkDropList","",1,"element-list",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","element",4,"ngFor","ngForOf"],["cdkDrag","",1,"element"],[1,"icon-group"],[1,"fa-grip",3,"icon"],[1,"fa-close",3,"icon","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"form")(10,"div",9)(11,"div",10),e._uU(12,"Create Page Elements"),e.qZA(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e._uU(17,"Element Type:"),e.TgZ(18,"span",15),e._uU(19,"* "),e.qZA()(),e.TgZ(20,"ng-select",16,17),e.NdJ("change",function(){return o.getDropDown()}),e.YNc(22,y,2,2,"ng-option",18),e.qZA()()(),e.TgZ(23,"div",12)(24,"div",13)(25,"label"),e._uU(26,"Element Name List"),e.qZA(),e.TgZ(27,"ng-select",19,20),e.NdJ("open",function(){return o.hidePlaceholder()}),e.YNc(29,T,2,2,"ng-option",18),e.qZA()()(),e.TgZ(30,"div",12)(31,"button",21),e.NdJ("click",function(){return o.addElement()}),e._uU(32," Add "),e.qZA()()()()()()(),e.TgZ(33,"div",7)(34,"div",8),e.YNc(35,N,10,2,"div",22),e.qZA()()()()()()()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",o.elementTypes),e.xp6(5),e.Q6J("placeholder",o.placeholderVisible?"Select":""),e.xp6(2),e.Q6J("ngForOf",o.elements),e.xp6(6),e.Q6J("ngIf",o.selectedElements.length>0))},dependencies:[m.sg,m.O5,p._Y,p.JL,p.F,E.BN,d.Wj,d.Fd,d.Zt,g.w9,g.jq],styles:[".element-container[_ngcontent-%COMP%]{max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.element-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block}.element[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.element[_ngcontent-%COMP%]:last-child{border:none}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.element-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.icon-group[_ngcontent-%COMP%]   .fa-grip[_ngcontent-%COMP%]{display:block;transition:display .5s ease}.icon-group[_ngcontent-%COMP%]   .fa-close[_ngcontent-%COMP%]{cursor:pointer;display:none}.fa-close[_ngcontent-%COMP%]:before, .fa-grip[_ngcontent-%COMP%]:before{display:none}.icon-group[_ngcontent-%COMP%]:hover   .fa-grip[_ngcontent-%COMP%]{display:none}.icon-group[_ngcontent-%COMP%]:hover   .fa-close[_ngcontent-%COMP%]{display:block}"]}),s})()}];let A=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(b),h.Bz]}),s})(),Z=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,A,p.UX,p.u5,E.uH,d._t,g.A0]}),s})()}}]);